<form id="formImport" action="@Url.Action("ImportExcelSn")" method="POST" enctype="multipart/form-data">
    <!-- upload with excel format -->
    <input type="file" id="txtUploadSn" name="txtUploadSn" class="hide" accept=".csv,application/vnd.ms-excel" />
</form>

<script>
    $(document).ready(function() {
        $('#txtUploadSn').change(function () {
            //must to do the submit (not ajax) to post the data(uploaded file)
            window.parent.maskStart();
            formImport.submit();

        });
        //not (undefined/''/null)
        if ('@ViewBag.result') {
            window.parent.maskStop();
            window.parent.importCallBack(decodeURIComponent('@ViewBag.result'));
        }
    });

    function chooseFile() {
        $("#txtUploadSn").click();
    }
</script>
